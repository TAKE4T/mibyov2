<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¨ºæ–­ãƒ•ãƒ­ãƒ¼ãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 20px;
            background: #f5f5f5;
        }
        .debug-panel {
            background: white;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .state-info {
            background: #e1f5fe;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-family: monospace;
        }
        .error {
            background: #ffebee;
            color: #c62828;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        button {
            background: #4caf50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background: #45a049;
        }
        .test-log {
            background: #f5f5f5;
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
            max-height: 300px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>ğŸ” æœªç—…è¨ºæ–­ãƒ•ãƒ­ãƒ¼ ãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¹ãƒˆ</h1>
    
    <div class="debug-panel">
        <h2>ãƒ†ã‚¹ãƒˆæ‰‹é †</h2>
        <ol>
            <li><a href="http://localhost:3000" target="_blank">ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’é–‹ã</a></li>
            <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ï¼ˆF12ï¼‰ã‚’é–‹ã</li>
            <li>Consoleã‚¿ãƒ–ã‚’é¸æŠ</li>
            <li>è¨ºæ–­ã‚’é–‹å§‹ã—ã¦å„ã‚¹ãƒ†ãƒƒãƒ—ã‚’ç¢ºèª</li>
        </ol>
    </div>

    <div class="debug-panel">
        <h2>ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ</h2>
        <div class="state-info">
            <strong>ğŸ“‹ ç¢ºèªé …ç›®ï¼š</strong><br>
            âœ… 1. æŒ¨æ‹¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹<br>
            âœ… 2. ã€Œè¨ºæ–­ã‚’é–‹å§‹ã™ã‚‹ã€ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹<br>
            âœ… 3. ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§æœ€åˆã®è³ªå•ãŒè¡¨ç¤ºã•ã‚Œã‚‹<br>
            âœ… 4. é¸æŠè‚¢ã‚’ã‚¯ãƒªãƒƒã‚¯ã§ãã‚‹<br>
            âœ… 5. æ¬¡ã®è³ªå•ã«æ­£ã—ãé€²ã‚€<br>
            âœ… 6. è³ªå•ãŒé‡è¤‡ã—ãªã„<br>
            âœ… 7. è¤‡æ•°é¸æŠè³ªå•ã§ã€Œæ¬¡ã¸ã€ãƒœã‚¿ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹<br>
            âœ… 8. å…¨27å•ãŒé †ç•ªã«è¡¨ç¤ºã•ã‚Œã‚‹<br>
            âœ… 9. æœ€å¾Œã«çµæœç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
        </div>
    </div>

    <div class="debug-panel">
        <h2>ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã®ç›£è¦–</h2>
        <div class="state-info">
            <strong>ğŸ” æ³¨ç›®ã™ã‚‹ãƒ­ã‚°ï¼š</strong><br>
            â€¢ <code>[ChatDiagnosis] State transition: welcome, Question: 0/27</code><br>
            â€¢ <code>[ChatDiagnosis] State transition: ready, Question: 0/27</code><br>
            â€¢ <code>[ChatDiagnosis] State transition: asking, Question: 0/27</code><br>
            â€¢ <code>[ChatDiagnosis] Option clicked: [é¸æŠè‚¢], Current state: waiting_answer</code><br>
            â€¢ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒãªã„ã‹ç¢ºèª
        </div>
    </div>

    <div class="debug-panel">
        <h2>æ—¢çŸ¥ã®å•é¡Œã¨å¯¾å‡¦æ³•</h2>
        <div class="error">
            <strong>âŒ è³ªå•ãŒé‡è¤‡ã™ã‚‹å ´åˆï¼š</strong><br>
            çŠ¶æ…‹æ©Ÿæ¢°ã®é·ç§»ãƒ­ã‚°ã‚’ç¢ºèªã—ã€askingâ†’waiting_answerâ†’processingâ†’askingã®æµã‚ŒãŒæ­£ã—ã„ã‹ãƒã‚§ãƒƒã‚¯
        </div>
        <div class="error">
            <strong>âŒ ãƒœã‚¿ãƒ³ãŒåå¿œã—ãªã„å ´åˆï¼š</strong><br>
            ç¾åœ¨ã®çŠ¶æ…‹ãŒwaitingã§ãªã„å¯èƒ½æ€§ã€‚ãƒ­ã‚°ã§çŠ¶æ…‹ã‚’ç¢ºèª
        </div>
        <div class="error">
            <strong>âŒ çµæœç”»é¢ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆï¼š</strong><br>
            answersé…åˆ—ã¨questionsé…åˆ—ã®æ•´åˆæ€§ã‚’ç¢ºèª
        </div>
    </div>

    <div class="debug-panel">
        <h2>æ‰‹å‹•ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ</h2>
        <button onclick="openDevServer()">é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’é–‹ã</button>
        <button onclick="copyDebugScript()">ãƒ‡ãƒãƒƒã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼</button>
        
        <div class="test-log" id="debugScript" style="display: none;">
// ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å®Ÿè¡Œã™ã‚‹ãƒ‡ãƒãƒƒã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
console.log("=== è¨ºæ–­ãƒ•ãƒ­ãƒ¼ãƒ‡ãƒãƒƒã‚°é–‹å§‹ ===");

// çŠ¶æ…‹ç›£è¦–
let stateWatcher = setInterval(() => {
    const chatComponent = document.querySelector('[data-testid="chat-diagnosis"]');
    if (chatComponent) {
        console.log("Chat component found");
        clearInterval(stateWatcher);
    }
}, 1000);

// è³ªå•æ•°ãƒã‚§ãƒƒã‚¯
setTimeout(() => {
    const questionElements = document.querySelectorAll('[data-question-id]');
    console.log(`è³ªå•è¦ç´ æ•°: ${questionElements.length}`);
}, 5000);
        </div>
    </div>

    <script>
        function openDevServer() {
            window.open('http://localhost:3000', '_blank');
        }
        
        function copyDebugScript() {
            const script = document.getElementById('debugScript');
            script.style.display = 'block';
            script.select();
            document.execCommand('copy');
            alert('ãƒ‡ãƒãƒƒã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼\nãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è²¼ã‚Šä»˜ã‘ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚');
        }
    </script>
</body>
</html>